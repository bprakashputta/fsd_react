<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>GitHub Api</title>
        <style>
            pre{
                border: 1px solid #ccc;
                border-radius: 4px;
                background-color: #f5f5f5;
                padding: 5px;
                line-height: 1;
            }
        </style>
    </head>
    <body>
        <form action="" id="myfrm">
            <input type="text" id="username">
            <input type="submit" value="Get Info">
        </form>
        <pre> Type GITHUB Username and hit enter!!.</pre>
        <img id="image" />
        <script>
            let img = document.querySelector("#image");
            img.hidden = true;
            let form = document.querySelector("#myfrm");
            let pre = document.querySelector("pre");
            form.onsubmit = function (){
                let username = document.querySelector("#username").value;
                console.log(username)
                // alert("Hola! "+username);
                var url = "https://api.github.com/users/"+username;
                // alert(url);
                fetch(url).then(function (response){
                    return response.json();
                }).then(function (json){
                    console.log("hi, I am in json place!!")
                    console.log(json);
                    let name = json.name;
                    let image = json.avatar_url || json.login;
                    let bio = json.bio || "This person is Lazy!!";
                    let Content = "";
                    Content += "Name: "+name+"\n";
                    Content += "Bio: "+bio;
                    img.src = image;
                    img.hidden = false;
                    pre.innerHTML = Content;
                }).catch(function (err){
                    console.log("Sadaf has messed up!!");
                    console.log(err.message);
                })
                return false;
            }
        </script>
    </body>
</html>


